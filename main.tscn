[gd_scene load_steps=45 format=4 uid="uid://bakxtiewmeev7"]

[ext_resource type="Script" path="res://main.gd" id="1_ln1v0"]
[ext_resource type="Script" path="res://player_body.gd" id="2_g8nkc"]
[ext_resource type="Script" path="res://controller.gd" id="2_l55u0"]
[ext_resource type="Texture2D" uid="uid://bim4mua23g8k8" path="res://Texture/AllSkyFree_Sky_EpicBlueSunset_Equirect.png" id="2_m5nrb"]
[ext_resource type="Texture2D" uid="uid://2blu40cd4fh1" path="res://Texture/icon.svg" id="3_b3b2v"]
[ext_resource type="Script" path="res://player_collider.gd" id="3_k0k8n"]
[ext_resource type="Script" path="res://Climbable.gd" id="4_2x7wv"]
[ext_resource type="Script" path="res://xr_origin.gd" id="4_i2h1c"]
[ext_resource type="Shader" path="res://Portal/portal.gdshader" id="8_l35gq"]
[ext_resource type="Script" path="res://Portal/portal.gd" id="9_hu2gp"]
[ext_resource type="Script" path="res://Portal/portal_camera.gd" id="10_wioqe"]
[ext_resource type="Script" path="res://Portal/portal_areas.gd" id="11_pl5me"]
[ext_resource type="Script" path="res://Portal/portal_area.gd" id="12_a2ywh"]
[ext_resource type="PackedScene" uid="uid://bxangghra1d4v" path="res://Portal/portal.glb" id="13_ywodu"]
[ext_resource type="Shader" path="res://Not my Portal/mirror.gdshader" id="15_b6rew"]
[ext_resource type="Script" path="res://Not my Portal/mirror.gd" id="15_y6i3j"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_8emxa"]
panorama = ExtResource("2_m5nrb")

[sub_resource type="Sky" id="Sky_vfm4j"]
sky_material = SubResource("PanoramaSkyMaterial_8emxa")

[sub_resource type="Environment" id="Environment_3q0es"]
background_mode = 2
sky = SubResource("Sky_vfm4j")
ambient_light_source = 2
ambient_light_color = Color(0.724643, 0.724643, 0.724643, 1)

[sub_resource type="BoxMesh" id="BoxMesh_qhqar"]
size = Vector3(0.1, 0.1, 0.1)

[sub_resource type="SphereShape3D" id="SphereShape3D_1gyce"]
radius = 0.1

[sub_resource type="SphereMesh" id="SphereMesh_j4oam"]
radius = 0.07
height = 0.14

[sub_resource type="CylinderMesh" id="CylinderMesh_x505e"]
top_radius = 0.1
bottom_radius = 0.1
height = 0.05

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_cj25u"]
radius = 0.1
height = 1.8

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_acvwp"]
albedo_texture = ExtResource("3_b3b2v")
albedo_texture_force_srgb = true
uv1_scale = Vector3(30, 30, 30)

[sub_resource type="QuadMesh" id="QuadMesh_b1tjj"]
size = Vector2(2, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_vyjl7"]
size = Vector3(3.12671, 4.04004, 0.0343018)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_75eng"]
radius = 0.1
height = 3.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_8qh3u"]
radius = 0.1
height = 3.0

[sub_resource type="ViewportTexture" id="ViewportTexture_sbqai"]
viewport_path = NodePath("Portal Pair/Portal1/Left")

[sub_resource type="ViewportTexture" id="ViewportTexture_cdr83"]
viewport_path = NodePath("Portal Pair/Portal1/Right")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_14hqt"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("8_l35gq")
shader_parameter/uv_scale = Vector2(1, -1)
shader_parameter/blend_offset = 0.0
shader_parameter/right = SubResource("ViewportTexture_cdr83")
shader_parameter/left = SubResource("ViewportTexture_sbqai")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rjbvt"]

[sub_resource type="ArrayMesh" id="ArrayMesh_fdnxo"]
_surfaces = [{
"aabb": AABB(-1, -1, -0.0250001, 2, 2, 0.0250002),
"format": 34359742465,
"index_count": 30,
"index_data": PackedByteArray("AAADAAEAAAACAAMAAwAGAAcAAwACAAYAAAAFAAQAAAABAAUAAQAHAAUAAQADAAcAAgAEAAYAAgAAAAQA"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("AACAPwAAgD/4zMy8AACAvwAAgD/KzMy8AACAPwAAgL/QzMy8AACAvwAAgL+izMy8AACAPwAAgD9M766zAACAvwAAgD8o3swxAACAPwAAgL8o3syxAACAvwAAgL9M764z")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_gsx7m"]
resource_name = "portal_Plane"
_surfaces = [{
"aabb": AABB(-1, -1, -0.0250001, 2, 2, 0.0250002),
"attribute_data": PackedByteArray("AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAIA/AAAAAA=="),
"format": 34359742487,
"index_count": 30,
"index_data": PackedByteArray("AAAJAAMAAAAGAAkACgAQABIACgAHABAAAQAOAAwAAQAEAA4ABQATAA8ABQALABMACAANABEACAACAA0A"),
"material": SubResource("StandardMaterial3D_rjbvt"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 20,
"vertex_data": PackedByteArray("AACAPwAAgD/4zMy8AACAPwAAgD/4zMy8AACAPwAAgD/4zMy8AACAvwAAgD/KzMy8AACAvwAAgD/KzMy8AACAvwAAgD/KzMy8AACAPwAAgL/QzMy8AACAPwAAgL/QzMy8AACAPwAAgL/QzMy8AACAvwAAgL+izMy8AACAvwAAgL+izMy8AACAvwAAgL+izMy8AACAPwAAgD9M766zAACAPwAAgD9M766zAACAvwAAgD8o3swxAACAvwAAgD8o3swxAACAPwAAgL8o3syxAACAPwAAgL8o3syxAACAvwAAgL9M764zAACAvwAAgL9M764z/3//fwAA/7//fwAA////vwAA/3////+//3//fwAA/7//fwAA////v////3////+//3//fwAA/7//f///////vwAA/3////+//3//fwAA/7//f///////v////3////+//38AAP///78AAP9/////v/9/AAD///+/////f////7//f///////vwAA/3////+//3///////7////9/////vw==")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_fdnxo")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tq10y"]
albedo_color = Color(1, 0.300462, 0.759707, 1)
uv1_scale = Vector3(3, -2.72, 10)

[sub_resource type="BoxMesh" id="BoxMesh_bt0am"]
size = Vector3(0.05, 1, 0.1)

[sub_resource type="BoxMesh" id="BoxMesh_2cwfj"]
size = Vector3(1.1, 0.05, 0.1)

[sub_resource type="PlaneMesh" id="PlaneMesh_y2qp8"]
size = Vector2(1, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_682u6"]
size = Vector3(2, 2, 0.5)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_be2di"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("8_l35gq")
shader_parameter/uv_scale = Vector2(1, 1)
shader_parameter/blend_offset = 0.0

[sub_resource type="ArrayMesh" id="ArrayMesh_q3w0u"]
resource_name = "portal_Plane"
_surfaces = [{
"aabb": AABB(-1, -1, -0.0250001, 2, 2, 0.0250002),
"attribute_data": PackedByteArray("AAAAAAAAgD8AAAAAAACAPwAAAAAAAIA/AACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAIA/AAAAAAAAgD8AAAAAAAAAAAAAgD8AAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAAAAAAAAAAAAAAAAAAAAAACAPwAAAAAAAIA/AAAAAA=="),
"format": 34359742487,
"index_count": 30,
"index_data": PackedByteArray("AAAJAAMAAAAGAAkACgAQABIACgAHABAAAQAOAAwAAQAEAA4ABQATAA8ABQALABMACAANABEACAACAA0A"),
"material": SubResource("StandardMaterial3D_rjbvt"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 20,
"vertex_data": PackedByteArray("AACAPwAAgD/4zMy8AACAPwAAgD/4zMy8AACAPwAAgD/4zMy8AACAvwAAgD/KzMy8AACAvwAAgD/KzMy8AACAvwAAgD/KzMy8AACAPwAAgL/QzMy8AACAPwAAgL/QzMy8AACAPwAAgL/QzMy8AACAvwAAgL+izMy8AACAvwAAgL+izMy8AACAvwAAgL+izMy8AACAPwAAgD9M766zAACAPwAAgD9M766zAACAvwAAgD8o3swxAACAvwAAgD8o3swxAACAPwAAgL8o3syxAACAPwAAgL8o3syxAACAvwAAgL9M764zAACAvwAAgL9M764z/3//fwAA/7//fwAA////vwAA/3////+//3//fwAA/7//fwAA////v////3////+//3//fwAA/7//f///////vwAA/3////+//3//fwAA/7//f///////v////3////+//38AAP///78AAP9/////v/9/AAD///+/////f////7//f///////vwAA/3////+//3///////7////9/////vw==")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_fdnxo")

[sub_resource type="QuadMesh" id="QuadMesh_ply7g"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ra4fw"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("15_b6rew")
shader_parameter/use_screenspace = false
shader_parameter/albedo_color = Color(1, 1, 1, 1)

[node name="Main" type="Node3D"]
process_priority = 100
transform = Transform3D(0.999994, 0, -0.00359537, 0, 1, 0, 0.00359537, 0, 0.999994, 0, 0, 0)
script = ExtResource("1_ln1v0")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_3q0es")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.712736, -0.641108, -0.284582, 0, -0.405716, 0.913999, -0.701432, -0.651441, -0.289169, -4.98749, 0.682005, 0)
light_energy = 2.0

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.63322, 0, 3.47499)
script = ExtResource("2_g8nkc")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Player"]
mesh = SubResource("BoxMesh_qhqar")
skeleton = NodePath("../XROrigin")

[node name="XROrigin" type="XROrigin3D" parent="Player"]
current = true
script = ExtResource("4_i2h1c")

[node name="HMD" type="XRCamera3D" parent="Player/XROrigin"]
transform = Transform3D(1, 0, 4.65661e-10, 0, 1, 0, -4.65661e-10, 0, 1, 0, 0, 0)
keep_aspect = 0
current = true

[node name="Left" type="XRController3D" parent="Player/XROrigin"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.419881, 0.0485107, 0.00150967)
tracker = &"left_hand"
script = ExtResource("2_l55u0")

[node name="GrabberArea" type="Area3D" parent="Player/XROrigin/Left"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player/XROrigin/Left/GrabberArea"]
shape = SubResource("SphereShape3D_1gyce")

[node name="Hand" type="MeshInstance3D" parent="Player/XROrigin/Left"]
mesh = SubResource("SphereMesh_j4oam")

[node name="Right" type="XRController3D" parent="Player/XROrigin"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.341093, 0.0485107, -0.00122643)
tracker = &"right_hand"
script = ExtResource("2_l55u0")

[node name="GrabberArea" type="Area3D" parent="Player/XROrigin/Right"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player/XROrigin/Right/GrabberArea"]
shape = SubResource("SphereShape3D_1gyce")

[node name="Hand" type="MeshInstance3D" parent="Player/XROrigin/Right"]
mesh = SubResource("SphereMesh_j4oam")
skeleton = NodePath("../../Left")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Player/XROrigin"]
mesh = SubResource("CylinderMesh_x505e")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9, 0)
shape = SubResource("CapsuleShape3D_cj25u")
script = ExtResource("3_k0k8n")
metadata/climbable = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(10, 0, 0, 0, -4.37114e-07, 10, 0, -10, -4.37114e-07, 0, -0.0195711, 0)
material_override = SubResource("StandardMaterial3D_acvwp")
mesh = SubResource("QuadMesh_b1tjj")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D/StaticBody3D"]
transform = Transform3D(1, -9.31323e-10, -7.49401e-15, 9.31323e-10, 1, 1.53833e-12, -3.20577e-15, 1.06581e-14, 1, -1.45934e-15, 3.01426e-13, -0.0171509)
shape = SubResource("BoxShape3D_vyjl7")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="."]
transform = Transform3D(0.964983, 0.00346952, -0.26229, 0.00359537, -0.999994, -8.74223e-08, -0.262289, -0.000942947, -0.964989, 0.00142148, 1.14041, 0.39536)
mesh = SubResource("CapsuleMesh_75eng")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D2"]
script = ExtResource("4_2x7wv")
metadata/climbable = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D2/StaticBody3D"]
shape = SubResource("CapsuleShape3D_8qh3u")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="."]
transform = Transform3D(0.964983, 0.00346952, -0.26229, 0.00359537, -0.999994, -8.74223e-08, -0.262289, -0.000942947, -0.964989, -0.00295027, 3.28618, -0.82057)
mesh = SubResource("CapsuleMesh_75eng")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D3"]
script = ExtResource("4_2x7wv")
metadata/climbable = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D3/StaticBody3D"]
shape = SubResource("CapsuleShape3D_8qh3u")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="."]
transform = Transform3D(0.964983, 0.00346952, -0.26229, 0.00359537, -0.999994, -8.74223e-08, -0.262289, -0.000942947, -0.964989, -0.00757917, 4.75246, -2.10803)
mesh = SubResource("CapsuleMesh_75eng")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D4"]
script = ExtResource("4_2x7wv")
metadata/climbable = true

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D4/StaticBody3D"]
shape = SubResource("CapsuleShape3D_8qh3u")

[node name="Portal Pair" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.567, 0, 0.023611)
rotation_order = 0

[node name="Portal1" type="MeshInstance3D" parent="Portal Pair" node_paths=PackedStringArray("exit_portal")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1.92106)
material_override = SubResource("ShaderMaterial_14hqt")
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("ArrayMesh_gsx7m")
skeleton = NodePath("../..")
script = ExtResource("9_hu2gp")
exit_portal = NodePath("../Portal2")

[node name="Left" type="SubViewport" parent="Portal Pair/Portal1"]
mesh_lod_threshold = 0.0
size = Vector2i(1228, 510)

[node name="PortalCam" type="Camera3D" parent="Portal Pair/Portal1/Left" node_paths=PackedStringArray("related_portal", "sender_portal")]
process_priority = 2
transform = Transform3D(-0.397921, 0.301775, -0.866367, 0, 0.944351, 0.328939, 0.91742, 0.130892, -0.375777, -9.70564, 2.38591, -4.00619)
rotation_edit_mode = 2
cull_mask = 1048573
projection = 2
near = 0.1
script = ExtResource("10_wioqe")
related_portal = NodePath("../../../Portal2")
sender_portal = NodePath("../..")
side = -1

[node name="Right" type="SubViewport" parent="Portal Pair/Portal1"]
mesh_lod_threshold = 0.0
size = Vector2i(1228, 510)

[node name="PortalCam" type="Camera3D" parent="Portal Pair/Portal1/Right" node_paths=PackedStringArray("related_portal", "sender_portal")]
process_priority = 2
transform = Transform3D(-0.397921, 0.301775, -0.866367, 0, 0.944351, 0.328939, 0.91742, 0.130892, -0.375777, -9.70564, 2.38591, -4.00619)
rotation_edit_mode = 2
cull_mask = 1048573
projection = 2
near = 0.1
script = ExtResource("10_wioqe")
related_portal = NodePath("../../../Portal2")
sender_portal = NodePath("../..")
side = 1

[node name="Model" type="Node3D" parent="Portal Pair/Portal1"]
transform = Transform3D(1.001, 0, 0, 0, 1.001, 0, 0, 0, 1.001, 0, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Portal Pair/Portal1/Model"]
transform = Transform3D(2, 0, 0, 0, -2, -1.74846e-07, 0, 1.74846e-07, -2, 1.05, 0, 0)
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("BoxMesh_bt0am")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Portal Pair/Portal1/Model"]
transform = Transform3D(2, 0, 0, 0, -2, -1.74846e-07, 0, 1.74846e-07, -2, -1.05, 0, 0)
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("BoxMesh_bt0am")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Portal Pair/Portal1/Model"]
transform = Transform3D(2, 0, 0, 0, -2, -1.74846e-07, 0, 1.74846e-07, -2, 0, 1.05, 0)
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("BoxMesh_2cwfj")

[node name="MeshInstance3D6" type="MeshInstance3D" parent="Portal Pair/Portal1/Model"]
transform = Transform3D(2, 0, 0, 5.43049e-29, -2, -1.74846e-07, 0, 1.74846e-07, -2, 0, -1.05, 0)
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("BoxMesh_2cwfj")
skeleton = NodePath("../../../Portal2/Model")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="Portal Pair/Portal1/Model"]
transform = Transform3D(2, 0, 0, 0, -8.74228e-08, 2, 0, -2, -8.74228e-08, 0, 0, -0.1)
layers = 2
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("PlaneMesh_y2qp8")
skeleton = NodePath("../../../Portal2/Model")

[node name="HitBoxes" type="Node3D" parent="Portal Pair/Portal1" node_paths=PackedStringArray("current_portal", "other_portal")]
script = ExtResource("11_pl5me")
current_portal = NodePath("..")
other_portal = NodePath("../../Portal2")

[node name="Enter" type="Area3D" parent="Portal Pair/Portal1/HitBoxes"]
script = ExtResource("12_a2ywh")

[node name="ColShape" type="CollisionShape3D" parent="Portal Pair/Portal1/HitBoxes/Enter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.25)
shape = SubResource("BoxShape3D_682u6")

[node name="Exit" type="Area3D" parent="Portal Pair/Portal1/HitBoxes"]
script = ExtResource("12_a2ywh")

[node name="ColShape" type="CollisionShape3D" parent="Portal Pair/Portal1/HitBoxes/Exit"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.25)
shape = SubResource("BoxShape3D_682u6")

[node name="CameraEmpty" type="Node3D" parent="Portal Pair/Portal1"]

[node name="Portal2" type="MeshInstance3D" parent="Portal Pair" node_paths=PackedStringArray("exit_portal")]
transform = Transform3D(0.449319, 0, 0.893371, 0, 1, 0, -0.893371, 0, 0.449319, 0, 1, -3)
rotation_order = 0
material_override = SubResource("ShaderMaterial_be2di")
extra_cull_margin = 16384.0
ignore_occlusion_culling = true
mesh = SubResource("ArrayMesh_q3w0u")
skeleton = NodePath("../..")
script = ExtResource("9_hu2gp")
exit_portal = NodePath("../Portal1")

[node name="Left" type="SubViewport" parent="Portal Pair/Portal2"]
mesh_lod_threshold = 0.0
size = Vector2i(1228, 510)

[node name="PortalCam" type="XRCamera3D" parent="Portal Pair/Portal2/Left" node_paths=PackedStringArray("related_portal", "sender_portal")]
process_priority = 2
transform = Transform3D(-0.49927, -0.285008, 0.81823, 0, 0.944351, 0.328939, -0.866446, 0.164229, -0.471487, 0.515848, 2.38591, -2.20271)
rotation_edit_mode = 2
cull_mask = 1048573
fov = 70.01
script = ExtResource("10_wioqe")
related_portal = NodePath("../../../Portal1")
sender_portal = NodePath("../..")
side = -1

[node name="Right" type="SubViewport" parent="Portal Pair/Portal2"]
mesh_lod_threshold = 0.0
size = Vector2i(1228, 510)

[node name="PortalCam" type="XRCamera3D" parent="Portal Pair/Portal2/Right" node_paths=PackedStringArray("related_portal", "sender_portal")]
process_priority = 2
transform = Transform3D(-0.49927, -0.285008, 0.81823, 0, 0.944351, 0.328939, -0.866446, 0.164229, -0.471487, 0.515848, 2.38591, -2.20271)
rotation_edit_mode = 2
cull_mask = 1048573
fov = 70.01
script = ExtResource("10_wioqe")
related_portal = NodePath("../../../Portal1")
sender_portal = NodePath("../..")
side = 1

[node name="Model" type="Node3D" parent="Portal Pair/Portal2"]
transform = Transform3D(1.001, 0, 0, 0, 1.001, 0, 0, 0, 1.001, 0, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Portal Pair/Portal2/Model"]
transform = Transform3D(2, 0, 0, 0, -2, -1.74846e-07, 0, 1.74846e-07, -2, 1.05, 0, 0)
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("BoxMesh_bt0am")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="Portal Pair/Portal2/Model"]
transform = Transform3D(2, 0, 0, 0, -2, -1.74846e-07, 0, 1.74846e-07, -2, -1.05, 0, 0)
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("BoxMesh_bt0am")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="Portal Pair/Portal2/Model"]
transform = Transform3D(2, 0, 0, 0, -2, -1.74846e-07, 0, 1.74846e-07, -2, 0, 1.05, 0)
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("BoxMesh_2cwfj")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="Portal Pair/Portal2/Model"]
transform = Transform3D(2, 0, 0, 5.43049e-29, -2, -1.74846e-07, 0, 1.74846e-07, -2, 0, -1.05, 0)
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("BoxMesh_2cwfj")

[node name="MeshInstance3D7" type="MeshInstance3D" parent="Portal Pair/Portal2/Model"]
transform = Transform3D(2, 0, 0, 0, -8.74228e-08, 2, 0, -2, -8.74228e-08, 0, 0, -0.1)
layers = 2
material_override = SubResource("StandardMaterial3D_tq10y")
mesh = SubResource("PlaneMesh_y2qp8")

[node name="HitBoxes" type="Node3D" parent="Portal Pair/Portal2" node_paths=PackedStringArray("current_portal", "other_portal")]
script = ExtResource("11_pl5me")
current_portal = NodePath("..")
other_portal = NodePath("../../Portal1")

[node name="Enter" type="Area3D" parent="Portal Pair/Portal2/HitBoxes"]
script = ExtResource("12_a2ywh")

[node name="ColShape" type="CollisionShape3D" parent="Portal Pair/Portal2/HitBoxes/Enter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.25)
shape = SubResource("BoxShape3D_682u6")

[node name="Exit" type="Area3D" parent="Portal Pair/Portal2/HitBoxes"]
script = ExtResource("12_a2ywh")

[node name="ColShape" type="CollisionShape3D" parent="Portal Pair/Portal2/HitBoxes/Exit"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.25)
shape = SubResource("BoxShape3D_682u6")

[node name="portal" parent="Portal Pair" instance=ExtResource("13_ywodu")]
visible = false

[node name="Mirror" type="MeshInstance3D" parent="." node_paths=PackedStringArray("left_camera", "right_camera", "origin", "leftvp", "rightvp")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.23702, 1.22684, 2.08942)
layers = 2
mesh = SubResource("QuadMesh_ply7g")
surface_material_override/0 = SubResource("ShaderMaterial_ra4fw")
script = ExtResource("15_y6i3j")
left_camera = NodePath("LeftViewport/Camera3D")
right_camera = NodePath("RightViewport/Camera3D")
origin = NodePath("../Player/XROrigin")
leftvp = NodePath("LeftViewport")
rightvp = NodePath("RightViewport")

[node name="LeftViewport" type="SubViewport" parent="Mirror"]
size = Vector2i(128, 128)
render_target_update_mode = 4

[node name="Camera3D" type="Camera3D" parent="Mirror/LeftViewport"]
cull_mask = 1048573

[node name="RightViewport" type="SubViewport" parent="Mirror"]
size = Vector2i(128, 128)
render_target_update_mode = 4

[node name="Camera3D" type="Camera3D" parent="Mirror/RightViewport"]
cull_mask = 1048573

[connection signal="input_vector2_changed" from="Player/XROrigin/Left" to="Player" method="_left_controller_vector2"]
[connection signal="button_pressed" from="Player/XROrigin/Right" to="Player" method="_on_right_button_pressed"]
[connection signal="input_vector2_changed" from="Player/XROrigin/Right" to="Player" method="_right_controller_vector2"]

[editable path="Portal Pair/portal"]
